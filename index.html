<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naver Webtoon AI Picker</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { primary: '#8D6E63', bgLight: '#F5F7FA' },
                    boxShadow: { 'soft': '0 10px 40px rgba(0,0,0,0.05)', 'blue': '0 15px 45px rgba(141,110,99,0.2)' }
                }
            }
        }
    </script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #F5F7FA;
            background-image: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), url('bg.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            -webkit-font-smoothing: antialiased;
        }

        .animate-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .backdrop-blur-custom {
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
        }

        .modal-open {
            overflow: hidden !important;
        }

        .premium-gray-btn {
            background: #F8FAFC;
            border: 1px solid #F1F5F9;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .premium-gray-btn:hover {
            background: #F1F5F9;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }
    </style>
    <!-- Kakao SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"></script>
</head>

<body>
    <div id="root"></div>

    <!-- React/Babel CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="data.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Kakao Key Management ---
        const KAKAO_JS_KEY = '7716eb056c6c408381180fb2987a0279';

        const initKakao = () => {
            if (window.Kakao && !Kakao.isInitialized()) {
                try { Kakao.init(KAKAO_JS_KEY); } catch (e) { console.error("Kakao Init Failed:", e); }
            }
        };

        const TRANSLATIONS = {
            ko: {
                subtitle: "My Pick Naver WebToon(with AI)",
                process: "Î∂ÑÏÑù ÌîÑÎ°úÏÑ∏Ïä§",
                step: "Îã®Í≥Ñ",
                of: "/",
                share: "Í≥µÏú†ÌïòÍ∏∞",
                step1_title: "ÏÑ†Ìò∏Ï∑®Ìñ•ÏùÑ Í≥®ÎùºÏ£ºÏÑ∏Ïöî.",
                step1_desc: "Îã§ÏñëÌïú Ïû•Î•¥ Ï§ë 1Í∞ú Ïù¥ÏÉÅ ÏÑ†ÌÉùÏù¥ ÌïÑÏàòÏûÖÎãàÎã§.",
                cat_status: "Ïó∞Ïû¨ ÏÉÅÌÉú",
                cat_genre: "Î©îÏù∏ Ïû•Î•¥",
                cat_topic: "Ïù∏Í∏∞ ÏÜåÏû¨",
                cat_feature: "Ïä§ÌÜ†Î¶¨ ÌäπÏßï",
                next: "Îã§Ïùå Îã®Í≥Ñ",
                step2_title: "ÎπÑÏÑ†Ìò∏ Ï∑®Ìñ•ÏùÑ Í≥®ÎùºÏ£ºÏÑ∏Ïöî (ÏÑ†ÌÉù)",
                step2_desc: "ÏÑ†ÌÉùÌïú Ï∑®Ìñ•Ïù¥ Ìè¨Ìï®Îêú ÏõπÌà∞ÏùÄ Ï∂îÏ≤úÏóêÏÑú Ï†úÏô∏Îê©ÎãàÎã§.",
                step3_title: "ÏÑ†Ìò∏ ÌÖåÎßà ÏÑ§Ï†ï",
                back: "Ïù¥Ï†Ñ",
                continue: "Í≥ÑÏÜçÌïòÍ∏∞",
                step4_title: "Í∞ÄÏû• Ïû¨ÎØ∏ÏûàÍ≤å Î≥¥Ïã†\nÏõπÌà∞ÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
                step3_placeholder: "Ï†ïÌôïÌïú Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî",
                start_analysis: "Î∂ÑÏÑù ÏãúÏûë",
                computing: "Í≤∞Í≥º Í≥ÑÏÇ∞ Ï§ë...",
                result_title: "AI Ï∂îÏ≤ú Í≤∞Í≥º",
                result_desc: "ÏÇ¨Ïö©ÏûêÏùò Í≥†Ïú† Ï∑®Ìñ•ÏùÑ Î∂ÑÏÑùÌïú Í≤∞Í≥ºÏûÖÎãàÎã§.",
                exclude: "Ï∂îÏ≤úÏ†úÏô∏",
                view_now: "Î∞îÎ°úÎ≥¥Í∏∞",
                new_analysis: "ÏÉàÎ°úÏö¥ Î∂ÑÏÑù",
                exclude_msg: "ÏïûÏúºÎ°ú Ïù¥ ÏõπÌà∞ÏùÄ Ï∂îÏ≤úÎêòÏßÄ ÏïäÏäµÎãàÎã§.",
                share_copy: "Î∂ÑÏÑù Í≤∞Í≥ºÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!",
                share_fail: "Î≥µÏÇ¨ Ïã§Ìå®",
                share_tpl_title: "[AIR.NW] AI Ï∂îÏ≤ú Í≤∞Í≥º",
                share_tpl_link: "ÎÇòÎèÑ Ìï¥Î≥¥Í∏∞",
                share_modal_title: "Í≥µÏú†ÌïòÍ∏∞",
                share_to_kakao: "Ïπ¥Ïπ¥Ïò§ÌÜ°",
                share_to_line: "ÎùºÏù∏",
                share_to_tiktok: "Ìã±ÌÜ°",
                share_to_text: "Í≤∞Í≥º Î≥µÏÇ¨",
                share_to_system: "Í∏∞ÌÉÄ Í≥µÏú†",
                conflict_msg: "Îã®Í≥Ñ 1ÏóêÏÑú ÏÑ†ÌÉùÌïú ÏÑ†Ìò∏ ÌÉúÍ∑∏ÏûÖÎãàÎã§.\nÎπÑÏÑ†Ìò∏Î°ú Î∞îÍæ∏ÏãúÍ≤†ÏäµÎãàÍπå?",
                yes: "Ïòà",
                no: "ÏïÑÎãàÏò§"
            },
            en: {
                subtitle: "My Pick Naver WebToon(with AI)",
                process: "Analysis Process",
                step: "Step",
                of: "of",
                share: "Share",
                step1_title: "Choose Preferred Tastes",
                step1_desc: "Please select at least one genre.",
                cat_status: "Status",
                cat_genre: "Main Genre",
                cat_topic: "Popular Topics",
                cat_feature: "Story Features",
                next: "Next Step",
                step2_title: "Choose Non-preferred Tastes (Optional)",
                step2_desc: "Webtoons with these tags will be strictly excluded.",
                step3_title: "Preference Settings",
                back: "Back",
                continue: "Continue",
                step4_title: "What is your\nfavorite webtoon?",
                step3_placeholder: "Enter the exact title",
                start_analysis: "Start Analysis",
                computing: "Computing Result...",
                result_title: "AI Best Recommendations",
                result_desc: "Analyzed based on your unique preferences.",
                exclude: "Exclude",
                view_now: "View Now",
                new_analysis: "New Analysis",
                exclude_msg: "This webtoon will no longer be recommended.",
                share_copy: "Results copied to clipboard!",
                share_fail: "Copy failed.",
                share_tpl_title: "[AIR.NW] AI Recommended Results",
                share_tpl_link: "Try it yourself",
                share_modal_title: "Share Results",
                share_to_kakao: "KakaoTalk",
                share_to_line: "LINE",
                share_to_tiktok: "TikTok",
                share_to_text: "Copy Results",
                share_to_system: "Others",
                conflict_msg: "This is a preferred tag from Step 1.\nChange it to non-preferred?",
                yes: "Yes",
                no: "No"
            },
            zh: {
                subtitle: "My Pick Naver WebToon(with AI)",
                process: "ÂàÜÊûêËøõÂ∫¶",
                step: "Á¨¨",
                of: "Ê≠• / ÂÖ±",
                share: "ÂàÜ‰∫´",
                step1_title: "ËØ∑ÈÄâÊã©ÊÇ®ÂñúÂ•ΩÁöÑÂè£Âë≥",
                step1_desc: "ËØ∑Ëá≥Â∞ëÈÄâÊã©‰∏Ä‰∏™Á±ªÂà´„ÄÇ",
                cat_status: "ËøûËΩΩÁä∂ÊÄÅ",
                cat_genre: "‰∏ªÊâìÁ±ªÂûã",
                cat_topic: "ÁÉ≠Èó®Á¥†Êùê",
                cat_feature: "ÂâßÊÉÖÁâπÁÇπ",
                next: "‰∏ã‰∏ÄÊ≠•",
                step2_title: "ËØ∑ÈÄâÊã©‰∏çÂñúÊ¨¢ÁöÑÂè£Âë≥ (ÂèØÈÄâ)",
                step2_desc: "ÂåÖÂê´ÊâÄÈÄâÊ†áÁ≠æÁöÑÊº´ÁîªÂ∞Ü‰ªéÊé®Ëçê‰∏≠ÊéíÈô§„ÄÇ",
                step3_title: "ÂÅèÂ•ΩËÆæÁΩÆ",
                back: "ËøîÂõû",
                continue: "ÁªßÁª≠",
                step4_title: "ÊÇ®ÊúÄÂñúÊ¨¢ÁöÑ\nÊº´ÁîªÊòØ‰ªÄ‰πàÔºü",
                step3_placeholder: "ËØ∑ËæìÂÖ•ÂáÜÁ°ÆÁöÑÊ†áÈ¢ò",
                start_analysis: "ÂºÄÂßãÂàÜÊûê",
                computing: "Ê≠£Âú®ËÆ°ÁÆóÁªìÊûú...",
                result_title: "AI ÊúÄ‰Ω≥Êé®Ëçê",
                result_desc: "Ê†πÊçÆÊÇ®ÁöÑÁã¨ÁâπÂÅèÂ•ΩÂàÜÊûêÂæóÂá∫„ÄÇ",
                exclude: "‰∏çÂÜçÊé®Ëçê",
                view_now: "Á´ãÂç≥ÈòÖËØª",
                new_analysis: "ÈáçÊñ∞ÂàÜÊûê",
                exclude_msg: "‰ªäÂêéÂ∞Ü‰∏çÂÜçÊé®ËçêÊ≠§Êº´Áîª„ÄÇ",
                share_copy: "ÁªìÊûúÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ",
                share_fail: "Â§çÂà∂Â§±Ë¥•„ÄÇ",
                share_tpl_title: "[AIR.NW] AI Êé®ËçêÁªìÊûú",
                share_tpl_link: "Êàë‰πüË¶ÅËØïËØï",
                share_modal_title: "ÂàÜ‰∫´ÁªìÊûú",
                share_to_kakao: "KakaoTalk",
                share_to_line: "LINE",
                share_to_tiktok: "TikTok",
                share_to_text: "Â§çÂà∂ÁªìÊûú",
                share_to_system: "ÂÖ∂‰ªñ",
                conflict_msg: "ËøôÊòØÊÇ®Âú®Á¨¨1Ê≠•ÈÄâÊã©ÁöÑÂñúÂ•ΩÊ†áÁ≠æ„ÄÇ\nË¶ÅÊîπ‰∏∫‰∏çÂñúÊ¨¢ÁöÑÂêóÔºü",
                yes: "ÊòØ",
                no: "Âê¶"
            },
            ja: {
                subtitle: "My Pick Naver WebToon(with AI)",
                process: "ÂàÜÊûê„Éó„É≠„Çª„Çπ",
                step: "„Çπ„ÉÜ„ÉÉ„Éó",
                of: "/",
                share: "ÂÖ±Êúâ„Åô„Çã",
                step1_title: "„ÅäÂ•Ω„Åø„ÅÆ„Çø„Ç§„Éó„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ",
                step1_desc: "1„Å§‰ª•‰∏ä„ÅÆÈÅ∏ÊäûÏù¥ ÌïÑÏàòÏûÖÎãàÎã§.",
                cat_status: "ÈÄ£ËºâÁä∂ÊÖã",
                cat_genre: "„É°„Ç§„É≥„Ç∏„É£„É≥„É´",
                cat_topic: "‰∫∫Ê∞ó„ÅÆÁ¥†Êùê",
                cat_feature: "„Çπ„Éà„Éº„É™„Éº„ÅÆÁâπÂæ¥",
                next: "Ê¨°„Å∏",
                step2_title: "Ëã¶Êâã„Å™Â•Ω„Åø„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ (‰ªªÊÑè)",
                step2_desc: "ÈÅ∏Êäû„Åó„Åü„Çø„Ç∞„ÅåÂê´„Åæ„Çå„Çã‰ΩúÂìÅ„ÅØ„Åä„Åô„Åô„ÇÅ„Åã„ÇâÈô§Â§ñ„Åï„Çå„Åæ„Åô„ÄÇ",
                step3_title: "Â•Ω„Åø„ÅÆ„ÉÜ„Éº„ÉûË®≠ÂÆö",
                back: "Êàª„Çã",
                continue: "Á∂ö„Åë„Çã",
                step4_title: "‰∏ÄÁï™Èù¢ÁôΩ„Åã„Å£„Åü\nÏõπÌà∞ÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
                step3_placeholder: "Ê≠£Á¢∫Ìïú „Çø„Ç§„Éà„É´„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                start_analysis: "ÂàÜÊûêÈñãÂßã",
                computing: "ÁµêÊûú„ÇíË®àÁÆó‰∏≠...",
                result_title: "AI „Åä„Åô„Åô„ÇÅÁµêÊûú",
                result_desc: "„ÅÇ„Å™„Åü„ÅÆÂ•Ω„Åø„ÇíÂàÜÊûê„Åó„ÅüÁµêÊûúÏûÖÎãàÎã§.",
                exclude: "„Åä„Åô„Åô„ÇÅÈô§Â§ñ",
                view_now: "‰ªä„Åô„ÅêË¶ã„Çã",
                new_analysis: "Êñ∞„Åó„ÅÑÂàÜÊûê",
                exclude_msg: "‰ªäÂæå„ÄÅ„Åì„ÅÆ‰ΩúÂìÅÏùÄ Ï∂îÏ≤úÎêòÏßÄ ÏïäÏäµÎãàÎã§.",
                share_copy: "ÁµêÊûúÏù¥ Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!",
                share_fail: "Î≥µÏÇ¨Í∞Ä Ï∞®Îã®ÎêòÏóàÏäµÎãàÎã§.",
                share_tpl_title: "[AIR.NW] AI „Åä„Åô„Åô„ÇÅÁµêÊûú",
                share_tpl_link: "„ÇÑ„Å£„Å¶„Åø„Çã",
                share_modal_title: "ÁµêÊûú„ÇíÂÖ±Êúâ",
                share_to_kakao: "KakaoTalk",
                share_to_line: "LINE",
                share_to_tiktok: "TikTok",
                share_to_text: "ÁµêÊûú„Ç≥„Éî„Éº",
                share_to_system: "„Åù„ÅÆ‰ªñ",
                conflict_msg: "„Çπ„ÉÜ„ÉÉ„Éó1„ÅßÈÅ∏Êäû„Åó„ÅüÂ•Ω„Åø„Çø„Ç∞„Åß„Åô„ÄÇ\nËã¶Êâã„Å™„Çø„Ç§„Éó„Å´Â§âÊõ¥„Åó„Åæ„Åô„ÅãÔºü",
                yes: "„ÅØ„ÅÑ",
                no: "„ÅÑ„ÅÑ„Åà"
            }
        };

        const getGenreCategories = (t) => [
            { name: t.cat_status, genres: ["Ïó∞Ïû¨Ï§ë", "ÏôÑÍ≤∞"], en: ["Ongoing", "Finished"], zh: ["ËøûËΩΩ‰∏≠", "Â∑≤ÂÆåÁªì"], ja: ["ÈÄ£Ëºâ‰∏≠", "ÂÆåÁµê"] },
            {
                name: t.cat_genre,
                genres: ["Î°úÎß®Ïä§", "ÌåêÌÉÄÏßÄ", "Ïï°ÏÖò", "ÎìúÎùºÎßà", "Ïä§Î¶¥Îü¨", "Î¨¥Ìòë/ÏÇ¨Í∑π", "Í∞úÍ∑∏", "ÏùºÏÉÅ", "Í∞êÏÑ±", "Ïä§Ìè¨Ï∏†"],
                en: ["Romance", "Fantasy", "Action", "Drama", "Thriller", "Martial Arts", "Comedy", "Life", "Sensibility", "Sports"],
                zh: ["Êµ™Êº´", "Â•áÂπª", "Âä®‰Ωú", "ÂâßÊÉÖ", "ÊÉäÊÇö", "Ê≠¶‰æ†", "ÊêûÁ¨ë", "Êó•Â∏∏", "ÊÑüÊÄß", "‰ΩìËÇ≤"],
                ja: ["„É≠„Éû„É≥„Çπ", "„Éï„Ç°„É≥„Çø„Ç∏„Éº", "„Ç¢„ÇØ„Ç∑„Éß„É≥", "„Éâ„É©„Éû", "„Çπ„É™Îü¨", "Ê≠¶‰æ†", "„ÇÆ„É£„Ç∞", "Êó•Â∏∏", "ÊÑüÊÄß", "Ïä§Ìè¨Ï∏†"]
            },
            {
                name: t.cat_topic,
                genres: ["ÌöåÍ∑Ä", "ÎπôÏùò", "Î®ºÏπòÌÇ®", "ÏïÑÏù¥Îèå", "Í≤åÏûÑÌåêÌÉÄÏßÄ", "Î≥µÏàò", "ÌïôÏõêÎ¨º", "Ïò§ÌîºÏä§", "Î°úÌåê", "Ïù¥ÏÑ∏Í≥Ñ"],
                en: ["Regression", "Possession", "Munchkin", "Idol", "Game Fantasy", "Revenge", "School", "Office", "Rom-Fantasy", "Isekai"],
                zh: ["ÂõûÂΩí", "ÈôÑË∫´", "ÈæôÂÇ≤Â§©", "ÂÅ∂ÂÉè", "Ê∏∏Êîπ", "Â§ç‰ªá", "Ê†°Âõ≠", "ËÅåÂú∫", "ÁΩóÊõºÂ•áÂπª", "ÂºÇ‰∏ñÁïå"],
                ja: ["ÂõûÂ∏∞", "ÊÜë‰æù", "ÊúÄÂº∑", "„Ç¢„Ç§„Éâ„É´", "Í≤åÏûÑÌåêÌÉÄÏßÄ", "Î≥µÏàò", "ÌïôÏõêÎ¨º", "Ïò§ÌîºÏä§", "Î°úÌåê", "Ïù¥ÏÑ∏Í≥Ñ"]
            },
            {
                name: t.cat_feature,
                genres: ["ÏÇ¨Ïù¥Îã§", "ÌûêÎßÅ", "ÏÑ±Ïû•Î¨º", "ÎëêÎáåÏã∏ÏõÄ", "ÏÑúÏä§ÌéúÏä§"],
                en: ["Satisfying", "Healing", "Growth", "Brain Battle", "Suspense"],
                zh: ["ÁàΩÊñá", "Ê≤ªÊÑà", "ÊàêÈïø", "ËÑëÂäõÊàò", "ÊÇ¨Áñë"],
                ja: ["„Çπ„Ç´„ÉÉ„Å®", "„Éí„Éº„É™„É≥„Ç∞", "ÊàêÈï∑Áâ©", "È†≠ËÑ≥Êà¶", "„Çµ„Çπ„Éö„É≥„Çπ"]
            }
        ];

        const getPreferences = (t) => [
            { id: 'romance', label_ko: 'Îã¨Îã¨Ìïú Î°úÎß®Ïä§/Ïó∞Ïï†Î¨º', label_en: 'Sweet Romance', label_zh: 'ÁîúÁîúÁöÑÊµ™Êº´/ÊÅãÁà±', label_ja: 'Áîò„ÅÑ„É≠„Éû„É≥„Çπ' },
            { id: 'action', label_ko: 'ÌôîÎÅàÌïú Ïï°ÏÖòÍ≥º ÌÉÄÍ≤©Í∞ê', label_en: 'Hot Action', label_zh: 'ÁÅ´ÁÉ≠ÁöÑÂä®‰ΩúÁîªÈù¢', label_ja: 'ÁÜ±„ÅÑ„Ç¢„ÇØ„Ç∑„Éß„É≥' },
            { id: 'brain', label_ko: 'Ïã¨Î¶¨Ï†ÑÍ≥º Í≥†ÎèÑÏùò ÎëêÎáåÏã∏ÏõÄ', label_en: 'Psychological Brain Battle', label_zh: 'ÂøÉÁêÜÊàò‰∏éËÑëÎ†•ËºÉÈáè', label_ja: 'ÂøÉÁêÜÊà¶„Å®È†≠ËÑ≥Êà¶' },
            { id: 'growth', label_ko: 'Ï£ºÏù∏Í≥µÏùò ÏÑ±Ïû•Í≥º Í∞êÎèô ÏÑúÏÇ¨', label_en: 'Protagonist Growth & Emotion', label_zh: '‰∏ªËßíÁöÑÊàêÈïø‰∏éÊÑüÂä®', label_ja: '‰∏ª‰∫∫ÂÖ¨„ÅÆÊàêÈï∑„Å®ÊÑüÂãï' },
            { id: 'horror', label_ko: 'Í≥µÌè¨/Í∑∏Î°úÌÖåÏä§ÌÅ¨', label_en: 'Horror / Grotesque', label_zh: 'ÊÅêÊÄñ / ÊÄ™ËØû', label_ja: '„Éõ„É©„Éº / „Ç∞„É≠„ÉÜ„Çπ„ÇØ' }
        ];

        const MOCK_WEBTOONS = [
            { id: "641253", title: "Ïô∏Î™®ÏßÄÏÉÅÏ£ºÏùò", tags: ["ÏóêÌîºÏÜåÎìú", "Ïï°ÏÖò", "Î∞ïÌÉúÏ§Ä", "Í∏àÏöîÏõπÌà∞"], thumbnail: "https://image-comic.pstatic.net/webtoon/641253/thumbnail/thumbnail_IMAG21_d894f11f-668a-4046-8692-730a961f7743.jpg", match: 98, status: 'ONGOING' },
            { id: "183559", title: "Ïã†Ïùò ÌÉë", tags: ["ÌåêÌÉÄÏßÄ", "Î®ºÏπòÌÇ®", "Ïû•ÎåÄÌïúÏÑúÏÇ¨"], thumbnail: "https://image-comic.pstatic.net/webtoon/183559/thumbnail/thumbnail_IMAG21_56133031-69f8-45a7-96a9-858348b4e720.jpg", match: 96, status: 'ONGOING' }
        ];

        const ProgressBar = ({ step, t }) => (
            <div className="mb-10 max-w-2xl mx-auto px-6">
                <div className="h-2 w-full bg-gray-200 rounded-full overflow-hidden">
                    <div className="h-full bg-primary transition-all duration-700 ease-out" style={{ width: `${(step / 5) * 100}%` }}></div>
                </div>
                <div className="mt-4 flex justify-between text-[11px] font-bold text-gray-400 uppercase tracking-widest">
                    <span>{t.process}</span>
                    <span className="text-primary">{t.step} {step} {t.of} 5</span>
                </div>
            </div>
        );

        const WebtoonCard = ({ item, rank, onExclude, t }) => {
            const getRankDisplay = (r) => {
                if (r === 1) return <span className="text-lg mr-1.5 shadow-sm">ü•á</span>;
                if (r === 2) return <span className="text-lg mr-1.5 shadow-sm">ü•à</span>;
                if (r === 3) return <span className="text-lg mr-1.5 shadow-sm">ü•â</span>;
                return <span className="text-base font-black text-gray-300 mr-2 italic">{r}</span>;
            };
            return (
                <div className="bg-white rounded-[32px] overflow-hidden shadow-soft hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 flex flex-col relative group border border-gray-50 h-full">
                    <div className="relative aspect-[3/4] overflow-hidden bg-gray-100">
                        <img src={item.thumbnail} referrerPolicy="no-referrer" className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" onError={(e) => { e.target.src = "https://via.placeholder.com/400?text=No Image"; }} />
                        <div className="absolute bottom-1 right-1 z-20 bg-primary/95 text-white text-[10px] font-bold px-2 py-0.5 rounded-lg shadow-md backdrop-blur-sm">{item.match}%</div>
                    </div>
                    <div className="p-5 flex flex-col flex-grow">
                        {/* Fixed height for tags to align titles perfectly */}
                        <div className="flex flex-wrap gap-1.5 mb-3 h-[5.2rem] content-start overflow-hidden">
                            {(item.tags || []).slice(0, 8).map((tag, idx) => (
                                <span key={idx} className="text-[11px] font-bold text-primary bg-orange-50 px-2 py-0.5 rounded-md tracking-tighter">#{tag}</span>
                            ))}
                        </div>
                        {/* Title section starts at the same line for all cards */}
                        <div className="flex items-start mb-4 h-[2.6rem]">
                            <div className="flex-shrink-0 flex items-center pt-0.5">{getRankDisplay(rank)}</div>
                            <h3 className="text-sm font-extrabold text-gray-900 leading-tight line-clamp-2">{item.title}</h3>
                        </div>
                        <div className="mt-auto w-full">
                            <div className="flex items-center justify-between mb-3 px-0.5">
                                {item.starScore && <div className="text-[10px] font-bold text-yellow-500 text-left">‚òÖ {item.starScore.toFixed(2)}</div>}
                                <button onClick={() => onExclude(item.id)} className="text-[9px] font-bold text-gray-400 hover:text-red-400 transition-colors border-b border-gray-200">{t.exclude}</button>
                            </div>
                            <a href={`https://comic.naver.com/webtoon/list?titleId=${item.id}`} target="_blank" className="block w-full py-3 bg-primary text-white text-center rounded-xl font-bold hover:opacity-90 transition-all text-[17px] flex items-center justify-center gap-1 shadow-sm">
                                <span>{t.view_now}</span>
                                <span className="text-[11px] opacity-80 font-medium">({item.status === 'FINISHED' ? 'ÏôÑÍ≤∞' : 'Ïó∞Ïû¨Ï§ë'})</span>
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        const ShareModal = ({ isOpen, onClose, t, results }) => {
            useEffect(() => {
                if (isOpen) {
                    document.body.classList.add('modal-open');
                    initKakao();
                } else { document.body.classList.remove('modal-open'); }
                return () => document.body.classList.remove('modal-open');
            }, [isOpen]);

            if (!isOpen) return null;

            const shareUrl = window.location.href;
            const fullRankText = results.map((w, i) => `${i + 1}. ${w.title} (${w.status === 'FINISHED' ? 'ÏôÑÍ≤∞' : 'Ïó∞Ïû¨Ï§ë'})`).join('\n');
            const shareText = `${t.share_tpl_title}\n\n${fullRankText}\n\nüîó ${t.share_tpl_link}: ${shareUrl}`;

            const copyToClip = () => {
                const el = document.createElement('textarea');
                el.value = shareText;
                document.body.appendChild(el);
                el.select();
                try { document.execCommand('copy'); alert(t.share_copy); } catch (e) { alert(t.share_fail); }
                document.body.removeChild(el);
                onClose();
            };

            const shareToKakao = () => {
                if (window.Kakao && Kakao.isInitialized()) {
                    try {
                        Kakao.Share.sendDefault({
                            objectType: 'feed',
                            content: {
                                title: t.share_tpl_title,
                                description: results.slice(0, 3).map(w => w.title).join(', ') + ' Îì± Ï∂îÏ≤úÎê®',
                                imageUrl: results[0]?.thumbnail || 'https://comic.naver.com/static/img/common/naver_shared.png',
                                link: { mobileWebUrl: shareUrl, webUrl: shareUrl },
                            },
                            buttons: [{ title: t.share_tpl_link, link: { mobileWebUrl: shareUrl, webUrl: shareUrl } }],
                        });
                        return;
                    } catch (e) { console.error(e); }
                }
                if (navigator.share) { navigator.share({ title: t.share_tpl_title, text: shareText, url: shareUrl }).catch(() => { }); }
                else copyToClip();
            };

            const shareToLine = () => { window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`, '_blank'); };

            return (
                <div className="fixed inset-0 z-[99999] flex items-center justify-center p-6 bg-black/50 backdrop-blur-md" onClick={onClose}>
                    <div className="bg-white w-full max-w-sm rounded-[56px] shadow-2xl overflow-hidden animate-up" onClick={e => e.stopPropagation()}>
                        <div className="pt-12 pb-10 px-8">
                            <h3 className="text-2xl font-black text-center mb-10 tracking-tight">{t.share_modal_title}</h3>
                            <div className="grid grid-cols-2 gap-4 mb-8">
                                <button onClick={shareToKakao} className="premium-gray-btn flex flex-col items-center gap-4 p-8 rounded-[36px]">
                                    <div className="w-16 h-16 flex items-center justify-center bg-[#FEE500] rounded-[24px] shadow-sm overflow-hidden"><img src="https://upload.wikimedia.org/wikipedia/commons/e/e3/KakaoTalk_logo.svg" className="w-10 h-10 object-contain" alt="Kakao" /></div>
                                    <span className="text-sm font-black text-gray-700">{t.share_to_kakao}</span>
                                </button>
                                <button onClick={shareToLine} className="premium-gray-btn flex flex-col items-center gap-4 p-8 rounded-[36px]">
                                    <div className="w-16 h-16 flex items-center justify-center bg-[#06C755] rounded-[22px] shadow-sm overflow-hidden"><img src="https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg" className="w-10 h-10 object-contain" alt="LINE" /></div>
                                    <span className="text-sm font-black text-gray-700">{t.share_to_line}</span>
                                </button>
                                <button onClick={copyToClip} className="premium-gray-btn flex flex-col items-center gap-4 p-8 rounded-[36px]">
                                    <div className="w-16 h-16 flex items-center justify-center bg-black rounded-[22px] shadow-sm overflow-hidden"><img src="https://www.logo.wine/a/logo/TikTok/TikTok-Icon-Logo.wine.svg" className="w-[85%] h-[85%] object-contain" alt="TikTok" style={{ filter: 'brightness(1.5)' }} /></div>
                                    <span className="text-sm font-black text-gray-700">{t.share_to_tiktok}</span>
                                </button>
                                <button onClick={copyToClip} className="premium-gray-btn flex flex-col items-center gap-4 p-8 rounded-[36px]">
                                    <div className="w-16 h-16 flex items-center justify-center bg-slate-200 rounded-[22px] shadow-sm overflow-hidden text-slate-600"><svg viewBox="0 0 24 24" className="w-8 h-8 fill-current"><path d="M7 6V3C7 2.44772 7.44772 2 8 2H20C20.5523 2 21 2.44772 21 3V17C21 17.5523 20.5523 18 20 18H17V21C17 21.5523 16.5523 22 16 22H4C3.44772 22 3 21.5523 3 21V7C3 6.44772 3.44772 6 4 6H7ZM9 6H16V16H17V4H9V6ZM5 8V20H15V8H5Z"></path></svg></div>
                                    <span className="text-sm font-black text-gray-700">{t.share_to_text}</span>
                                </button>
                            </div>
                            <button onClick={onClose} className="w-full py-5 bg-gray-50 rounded-2xl text-gray-400 font-black">CLOSE</button>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [lang, setLang] = useState('ko');
            const [step, setStep] = useState(1);
            const [selectedG, setSelectedG] = useState([]);
            const [excludedG, setExcludedG] = useState([]); // Non-preferred tastes
            const [prefSettings, setPrefSettings] = useState({});
            const [favTitle, setFavTitle] = useState("");
            const [loading, setLoading] = useState(false);
            const [results, setResults] = useState([]);
            const [scoredPool, setScoredPool] = useState([]);
            const [excludedIds, setExcludedIds] = useState(() => {
                try { return JSON.parse(localStorage.getItem('excludedWebtoons')) || []; } catch (e) { return []; }
            });
            const [showExcludePopup, setShowExcludePopup] = useState(false);
            const [showShareModal, setShowShareModal] = useState(false);
            const [conflictTag, setConflictTag] = useState(null); // Tag causing conflict

            const t = TRANSLATIONS[lang] || TRANSLATIONS.ko;
            const categories = useMemo(() => getGenreCategories(t), [t]);
            const preferencesList = useMemo(() => getPreferences(t), [t]);

            const nextStep = () => { setStep(prev => prev + 1); window.scrollTo({ top: 0, behavior: 'smooth' }); };
            const prevStep = () => { setStep(prev => prev - 1); window.scrollTo({ top: 0, behavior: 'smooth' }); };
            const reset = () => { setStep(1); setSelectedG([]); setExcludedG([]); setPrefSettings({}); setFavTitle(""); setScoredPool([]); window.scrollTo({ top: 0, behavior: 'smooth' }); };

            const handleAnalyze = async () => {
                setLoading(true); setStep(5);
                window.scrollTo({ top: 0, behavior: 'smooth' });
                await new Promise(r => setTimeout(r, 1500));
                const rawData = window.WEBTOON_DATA || MOCK_WEBTOONS;
                const statusFilters = selectedG.filter(s => ["Ïó∞Ïû¨Ï§ë", "ÏôÑÍ≤∞"].includes(s));
                const genrePreferences = selectedG.filter(s => !["Ïó∞Ïû¨Ï§ë", "ÏôÑÍ≤∞"].includes(s));

                const scoredData = rawData.map(item => {
                    const webtoon = {
                        id: item.titleId || item.id,
                        title: item.titleName || item.title,
                        thumbnail: item.thumbnailUrl || item.thumbnail,
                        tags: (item.tags && item.tags.length > 0) ? item.tags : [item.day, item.status === 'FINISHED' ? 'ÏôÑÍ≤∞' : 'Ïó∞Ïû¨Ï§ë', item.author].filter(Boolean),
                        author: item.author, status: item.status, starScore: item.starScore || 9.0
                    };

                    // 1. Check strict exclusion from Step 2 (Non-preferred)
                    if (excludedG.length > 0) {
                        const hasExcludedTag = excludedG.some(ex =>
                            webtoon.tags.some(t => String(t).includes(ex)) || webtoon.title.includes(ex)
                        );
                        if (hasExcludedTag) return { ...webtoon, match: 0 };
                    }

                    let score = 50;
                    if (statusFilters.length > 0) {
                        const myStatus = webtoon.status === 'FINISHED' ? 'ÏôÑÍ≤∞' : 'Ïó∞Ïû¨Ï§ë';
                        if (!statusFilters.includes(myStatus)) return { ...webtoon, match: 0 };
                    }
                    genrePreferences.forEach(pref => {
                        const keywords = pref.includes('/') ? pref.split('/') : [pref];
                        if (keywords.some(k => webtoon.tags.some(t => String(t).includes(k)) || webtoon.title.includes(k))) score += 20;
                    });
                    return { ...webtoon, match: Math.min(99, score + Math.floor(Math.random() * 5)) };
                });
                const sorted = scoredData.filter(w => w.match > 0).sort((a, b) => b.match - a.match);
                setScoredPool(sorted);
                setResults(sorted.filter(w => !excludedIds.includes(w.id)).slice(0, 10));
                setLoading(false);
            };

            return (
                <div className="min-h-screen pb-20">
                    <header className="sticky top-0 z-[1000] bg-white/90 backdrop-blur-md border-b border-gray-100 py-4 px-4 sm:px-10">
                        <div className="max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-4 md:gap-0 justify-between">
                            <div className="flex items-center gap-2 cursor-pointer order-1 md:w-1/4" onClick={reset}>
                                <span className="text-2xl">üìñ</span>
                                <h1 className="text-xl font-black text-gray-900 tracking-tighter">AIR<span className="text-primary italic">.NW</span></h1>
                            </div>
                            <div className="flex flex-col items-center order-2 md:w-2/4 w-full">
                                <h1 className="text-sm sm:text-xl font-black text-gray-800 tracking-tighter italic leading-none mb-3 sm:mb-4 text-center">{t.subtitle}</h1>
                                <div className="flex justify-center gap-1 w-full max-w-[340px] sm:max-w-none px-2">
                                    {[{ code: 'ko', label: 'ÌïúÍµ≠Ïñ¥' }, { code: 'en', label: 'English' }, { code: 'zh', label: '‰∏≠Êñá' }, { code: 'ja', label: 'Êó•Êú¨Ë™û' }].map(l => (
                                        <button key={l.code} onClick={() => setLang(l.code)}
                                            className={`flex-1 sm:flex-none text-[8px] min-[360px]:text-[9px] sm:text-[11px] font-black py-2 sm:py-2.5 rounded-xl border transition-all whitespace-nowrap min-w-0 sm:px-5 ${lang === l.code ? 'bg-primary border-primary text-white shadow-md' : 'bg-white text-gray-400 border-gray-100 hover:border-gray-200'}`}>
                                            {l.label}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            <div className="order-3 md:w-1/4 flex justify-end">
                                {step === 5 && !loading && (
                                    <button onClick={() => setShowShareModal(true)} className="bg-primary text-white text-[11px] sm:text-xs font-black px-6 py-3 rounded-full shadow-lg flex items-center gap-2 hover:scale-105 transition-transform active:scale-95">
                                        <span>{t.share}</span>
                                        <svg viewBox="0 0 24 24" className="w-4 h-4 fill-white"><path d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z"></path></svg>
                                    </button>
                                )}
                            </div>
                        </div>
                    </header>
                    <main className="max-w-6xl mx-auto px-6 py-10">
                        <ProgressBar step={step} t={t} />
                        {step === 1 && (
                            <div className="animate-up max-w-4xl mx-auto">
                                <div className="text-center mb-14"><h2 className="text-3xl sm:text-4xl font-black mb-4 tracking-tight">{t.step1_title}</h2><p className="text-gray-600 italic font-bold">{t.step1_desc}</p></div>
                                <div className="space-y-10">{categories.map(cat => (<div key={cat.name} className="space-y-5"><h3 className="text-sm font-black text-gray-600 uppercase tracking-widest px-1">{cat.name}</h3><div className="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-3">{cat.genres.map((g, idx) => { const label = lang === 'en' ? cat.en[idx] : lang === 'zh' ? cat.zh[idx] : lang === 'ja' ? cat.ja[idx] : g; return (<button key={g} onClick={() => setSelectedG(prev => prev.includes(g) ? prev.filter(it => it !== g) : [...prev, g])} className={`py-4 px-4 rounded-[24px] text-[13px] font-bold border-2 transition-all ${selectedG.includes(g) ? 'bg-primary border-primary text-white shadow-xl scale-[0.98]' : 'bg-white border-gray-100 text-gray-500'}`}>#{label}</button>); })}</div></div>))}</div>
                                <div className="mt-20 text-center"><button disabled={selectedG.length === 0} onClick={nextStep} className="w-full sm:w-auto px-16 py-5 bg-primary text-white font-black rounded-full shadow-2xl disabled:opacity-20 text-lg uppercase tracking-widest">NEXT</button></div>
                            </div>
                        )}
                        {step === 2 && (
                            <div className="animate-up max-w-4xl mx-auto">
                                <div className="text-center mb-14"><h2 className="text-3xl sm:text-4xl font-black mb-4 tracking-tight">{t.step2_title}</h2><p className="text-gray-600 italic font-bold">{t.step2_desc}</p></div>
                                <div className="space-y-10">
                                    {categories.map(cat => (
                                        <div key={cat.name} className="space-y-5">
                                            <h3 className="text-sm font-black text-gray-600 uppercase tracking-widest px-1">{cat.name}</h3>
                                            <div className="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-3">
                                                {cat.genres.map((g, idx) => {
                                                    const label = lang === 'en' ? cat.en[idx] : lang === 'zh' ? cat.zh[idx] : lang === 'ja' ? cat.ja[idx] : g;
                                                    const isPreferred = selectedG.includes(g);
                                                    return (
                                                        <button
                                                            key={g}
                                                            onClick={() => {
                                                                if (isPreferred) {
                                                                    setConflictTag(g);
                                                                } else {
                                                                    setExcludedG(prev => prev.includes(g) ? prev.filter(it => it !== g) : [...prev, g]);
                                                                }
                                                            }}
                                                            className={`py-4 px-4 rounded-[24px] text-[13px] font-bold border-2 transition-all ${excludedG.includes(g) ? 'bg-red-500 border-red-500 text-white shadow-xl scale-[0.98]' : isPreferred ? 'bg-gray-100 border-gray-100 text-gray-300' : 'bg-white border-gray-100 text-gray-500'}`}
                                                        >
                                                            #{label}
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <div className="mt-20 flex gap-4 justify-center"><button onClick={prevStep} className="px-16 py-5 bg-gray-100 text-gray-500 font-bold rounded-full uppercase">BACK</button><button onClick={nextStep} className="px-16 py-5 bg-primary text-white font-black rounded-full shadow-2xl uppercase">CONTINUE</button></div>
                            </div>
                        )}
                        {step === 3 && (
                            <div className="animate-up max-w-lg mx-auto py-5">
                                <h2 className="text-3xl font-black text-center mb-10">{t.step3_title}</h2>
                                <div className="bg-white rounded-[40px] shadow-soft border border-gray-50 overflow-hidden p-2">{preferencesList.map(p => (<div key={p.id} onClick={() => setPrefSettings(prev => ({ ...prev, [p.id]: !prev[p.id] }))} className="flex items-center justify-between p-7 border-b border-gray-50 last:border-0 cursor-pointer hover:bg-gray-50 transition-colors"><span className={`font-bold text-sm sm:text-base ${prefSettings[p.id] ? 'text-primary' : 'text-gray-700'}`}>{p[`label_${lang}`] || p.label_ko}</span><div className={`w-12 h-7 rounded-full relative transition-colors duration-300 ${prefSettings[p.id] ? 'bg-primary' : 'bg-gray-200'}`}><div className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow-sm transition-transform duration-300 ${prefSettings[p.id] ? 'translate-x-[22px]' : 'translate-x-1'}`}></div></div></div>))}</div>
                                <div className="mt-12 flex gap-4"><button onClick={prevStep} className="flex-1 py-5 bg-gray-100 text-gray-500 font-bold rounded-full uppercase">BACK</button><button onClick={nextStep} className="flex-[2] py-5 bg-primary text-white font-black rounded-full shadow-2xl uppercase">CONTINUE</button></div>
                            </div>
                        )}
                        {step === 4 && (
                            <div className="animate-up max-w-lg mx-auto py-5">
                                <h2 className="text-3xl font-black text-center mb-10 leading-tight">{t.step4_title}</h2>
                                <input type="text" value={favTitle} onChange={e => setFavTitle(e.target.value)} placeholder={t.step3_placeholder} className="w-full py-6 px-10 rounded-full bg-white border-2 border-gray-100 focus:border-primary outline-none text-center text-lg shadow-inner font-bold" />
                                <div className="mt-12 flex gap-4"><button onClick={prevStep} className="flex-1 py-5 bg-gray-100 text-gray-500 font-bold rounded-full uppercase">BACK</button><button onClick={handleAnalyze} className="flex-[2] py-5 bg-primary text-white font-black rounded-full shadow-2xl uppercase">ANALYZE</button></div>
                            </div>
                        )}
                        {step === 5 && (
                            <div className="animate-up">{loading ? (<div className="flex flex-col items-center justify-center py-40"><div className="w-16 h-16 border-[8px] border-gray-100 border-t-primary rounded-full animate-spin mb-10"></div><p className="text-gray-300 font-black tracking-widest uppercase animate-pulse">{t.computing}</p></div>) : (<div className="animate-up"><div className="text-center mb-14"><h2 className="text-3xl sm:text-4xl font-black mb-3 italic tracking-tight">{t.result_title}</h2><p className="text-gray-400 font-medium">{t.result_desc}</p></div><div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">{results.map((w, idx) => (<WebtoonCard key={w.id} item={w} rank={idx + 1} onExclude={id => { const newEx = [...excludedIds, id]; setExcludedIds(newEx); localStorage.setItem('excludedWebtoons', JSON.stringify(newEx)); setResults(scoredPool.filter(x => !newEx.includes(x.id)).slice(0, 10)); setShowExcludePopup(true); setTimeout(() => setShowExcludePopup(false), 2000); }} t={t} />))}</div><button onClick={reset} className="mt-24 px-16 py-6 border-2 border-gray-200 text-gray-300 font-black rounded-full hover:border-primary hover:text-primary transition-all uppercase block mx-auto tracking-widest">NEW SEARCH</button></div>)}</div>
                        )}
                    </main>
                    {showExcludePopup && (<div className="fixed bottom-10 left-1/2 -translate-x-1/2 z-[1000] animate-up"><div className="bg-gray-900/95 backdrop-blur-md text-white px-8 py-4 rounded-3xl shadow-2xl flex items-center gap-3"><span className="text-2xl">üö´</span><p className="font-bold text-sm tracking-tight">{t.exclude_msg}</p></div></div>)}

                    {/* Conflict Confirmation Modal */}
                    {conflictTag && (
                        <div className="fixed inset-0 z-[110000] flex items-center justify-center p-6 bg-black/40 backdrop-blur-sm">
                            <div className="bg-white w-full max-w-xs rounded-[40px] shadow-2xl overflow-hidden animate-up p-8 text-center">
                                <span className="text-3xl mb-4 block">‚ö†Ô∏è</span>
                                <p className="text-gray-800 font-bold text-sm leading-relaxed mb-8 whitespace-pre-wrap">{t.conflict_msg}</p>
                                <div className="flex gap-3">
                                    <button
                                        onClick={() => {
                                            setSelectedG(prev => prev.filter(it => it !== conflictTag));
                                            setExcludedG(prev => [...prev, conflictTag]);
                                            setConflictTag(null);
                                        }}
                                        className="flex-1 py-4 bg-primary text-white font-black rounded-2xl shadow-lg active:scale-95 transition-transform"
                                    >
                                        {t.yes}
                                    </button>
                                    <button
                                        onClick={() => setConflictTag(null)}
                                        className="flex-1 py-4 bg-gray-100 text-gray-500 font-bold rounded-2xl active:scale-95 transition-transform"
                                    >
                                        {t.no}
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    <ShareModal isOpen={showShareModal} onClose={() => setShowShareModal(false)} t={t} results={results} />
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>

</html>